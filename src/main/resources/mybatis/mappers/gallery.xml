<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="gallery">

	<select id="restore" parameterType="com.javaex.vo.GalleryVo">
		<![CDATA[
			insert into gallery
			values(seq_board_no.nextval,
				   #{userNo},
				   #{content},
				   #{filePath},
				   #{orgName},
				   #{saveName},
				   #{fileSize})		
		]]>
	</select>

	<select id="list" resultType="com.javaex.vo.GalleryVo">
		
		<![CDATA[
			select ga.no,
				   user_no userNo,
      			   content,
      			   filePath,
      			   orgName,
      			   saveName,
       			   fileSize,
       			   us.name 
			from gallery ga, users us
			where ga.user_no = us.no 
			order by ga.no desc
		]]>

	</select>


	<select id="getImg" resultType="com.javaex.vo.GalleryVo">
		<![CDATA[
			select ga.no,
				   user_no userNo,
				   content,
				   saveName,
				   us.name
			from gallery ga, users us
			where ga.user_no = us.no
			and ga.no = #{no}
		]]>
	</select>


</mapper>
